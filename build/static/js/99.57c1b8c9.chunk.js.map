{"version":3,"sources":["wrappers/breadcrumb/Breadcrumb.js","pages/other/Cart.js"],"names":["Breadcrumb","className","separator","item","NavLink","finalItem","i","connect","state","cartItems","cartData","currency","currencyData","dispatch","addToCart","addToast","quantityCount","decreaseQuantity","deleteFromCart","deleteAllFromCart","props","location","useState","history","useToasts","useHistory","pathname","cartTotalPrice","gstTotalPrice","carts","setCarts","cartId","setCartId","total","setTotal","useraddress","setUseraddress","fetchcarts","Axios","get","headers","localStorage","getItem","data","console","log","length","push","_id","fetchaddress","address","useEffect","removeItemfromcart","id","response","deleteAllCartItems","window","reload","key","Razorpay","useRazorpay","setOrderId","user","setUser","then","catch","error","order","handlePayment","useCallback","amount","description","name","email","contact","payment_type","rzpay","handler","res","cart","status","shipping_address","payment_id","post","prefill","notes","theme","color","on","resp","alert","open","content","to","process","headerTop","map","cartItem","parseInt","gsttotal","discountedPrice","getDiscountPrice","price","discount","currencyRate","toFixed","product","gstrate","value","product_qty","src","product_img","alt","product_name","size","product_price","type","placeholder","onClick","style","textTransform","customer","firstname","lastname","locality","pincode","mobile"],"mappings":"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","file":"static/js/99.57c1b8c9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Breadcrumbs } from \"react-breadcrumbs-dynamic\";\r\n\r\nconst Breadcrumb = () => {\r\n  return (\r\n    <div className=\"breadcrumb-area pt-10 pb-10 bg-gray-5\">\r\n      <div className=\"container\">\r\n        <div className=\"breadcrumb-content text-center\">\r\n          <Breadcrumbs\r\n            separator={<span>/</span>}\r\n            item={NavLink}\r\n            finalItem={\"span\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Breadcrumb;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState, useEffect, useCallback } from \"react\";\r\nimport useRazorpay from \"react-razorpay\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport { connect } from \"react-redux\";\r\nimport { Form, Input, Button } from \"reactstrap\";\r\nimport { getDiscountPrice } from \"../../helpers/product\";\r\nimport {\r\n  addToCart,\r\n  decreaseQuantity,\r\n  deleteFromCart,\r\n  cartItemStock,\r\n  deleteAllFromCart,\r\n} from \"../../redux/actions/cartActions\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport Axios from \"axios\";\r\n\r\nconst Cart = ({\r\n  props,\r\n  location,\r\n  cartItems,\r\n  currency,\r\n  decreaseQuantity,\r\n  addToCart,\r\n  deleteFromCart,\r\n  deleteAllFromCart,\r\n}) => {\r\n  const [quantityCount] = useState(1);\r\n  const { addToast } = useToasts();\r\n  const history = useHistory();\r\n  const { pathname } = location;\r\n  let cartTotalPrice = 0;\r\n  let gstTotalPrice = 0;\r\n  const [carts, setCarts] = useState([]);\r\n  const [cartId, setCartId] = useState([]);\r\n  const [total, setTotal] = useState([]);\r\n  const [useraddress, setUseraddress] = useState([]);\r\n  //const { id } = useParams();\r\n\r\n  const fetchcarts = async () => {\r\n    const { data } = await Axios.get(\r\n      // `http://13.235.180.192/api/admin/cartbycustomer`,\r\n      {\r\n        headers: {\r\n          \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n        },\r\n      }\r\n    );\r\n    const carts = data.data;\r\n    console.log(carts);\r\n    var cartId = [];\r\n    for (var i = 0; i < carts.length; i++) {\r\n      cartId.push(carts[i]._id);\r\n    }\r\n    setCartId(cartId);\r\n    console.log(cartId);\r\n    setCarts(carts);\r\n    console.log(carts);\r\n\r\n    setTotal(data.total);\r\n  };\r\n\r\n  const fetchaddress = async () => {\r\n    const { data } = await Axios.get(\r\n      // `http://13.235.180.192/api/user/viewoneuseraddress`,\r\n      {\r\n        headers: {\r\n          \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n        },\r\n      }\r\n    );\r\n    const address = data.data;\r\n    console.log(address);\r\n    setUseraddress(address);\r\n  };\r\n  useEffect(() => {\r\n    //fetchcarts();\r\n    if (localStorage.getItem(\"auth-token\")) {\r\n      fetchcarts();\r\n      fetchaddress();\r\n    }\r\n  }, []);\r\n\r\n  const removeItemfromcart = async (id) => {\r\n    console.log(id);\r\n\r\n    try {\r\n      const response = await Axios.get(\r\n        // `http://13.235.180.192/api/admin/remove_cart/${id}`,\r\n        {\r\n          headers: {\r\n            \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n          },\r\n        }\r\n      );\r\n      if (response) {\r\n        console.log(response);\r\n        fetchcarts();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const deleteAllCartItems = async () => {\r\n    console.log(\"request remove all\");\r\n\r\n    try {\r\n      const response = await Axios.get(\r\n        // `http://13.235.180.192/api/admin/clearCart`,\r\n        {\r\n          headers: {\r\n            \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n          },\r\n        }\r\n      );\r\n      if (response) {\r\n        window.location.reload();\r\n        console.log(response);\r\n        fetchcarts();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const [key, setKey] = useState(\"rzp_live_dX052iXb0Is1yu\");\r\n  const Razorpay = useRazorpay();\r\n  const [orderId, setOrderId] = useState(\"\");\r\n  const [user, setUser] = useState(\"\");\r\n  useEffect(() => {\r\n    console.log(\"useEffect\");\r\n    Axios.get(\r\n      // \"http://13.235.180.192/api/user/getonecustomer\", \r\n      {\r\n      headers: {\r\n        \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data.data);\r\n        setUser(response.data.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n      });\r\n    Axios.get(\r\n      // `http://13.235.180.192/api/admin/rapay/${cartTotalPrice}`\r\n      )\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setOrderId(response.data?.order.id);\r\n        // setAmount(response.data?.order.amount);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response);\r\n      });\r\n  }, []);\r\n  const handlePayment = useCallback(\r\n    async (\r\n      amount,\r\n      description,\r\n      name,\r\n      email,\r\n      contact,\r\n\r\n      payment_type\r\n    ) => {\r\n      if (payment_type == \"COD\") {\r\n        return;\r\n      }\r\n      const RazorpayOptions = {\r\n        key: key,\r\n        amount: amount,\r\n        currency: \"INR\",\r\n        name: \"YOUR ORDER\",\r\n        description: description,\r\n        //order_id: \"1234567890\",\r\n        handler: (res) => {\r\n          var data = {\r\n            cart: cartId,\r\n            payment_type,\r\n            status: \"Pending\",\r\n            shipping_address: useraddress._id,\r\n\r\n            payment_id: res.payment_id,\r\n          };\r\n          console.log(res);\r\n          Axios.post(\"http://13.235.180.192/api/admin/addordersample\", data, {\r\n            headers: {\r\n              \"auth-token\": localStorage.getItem(\"auth-token\"),\r\n            },\r\n          })\r\n            .then((response) => {\r\n              console.log(\"pranay\", response);\r\n\r\n              //history.push(\"/cart\");\r\n            })\r\n            .catch((error) => {\r\n              console.log(error.response);\r\n            });\r\n          //api call\r\n        },\r\n        prefill: {\r\n          name: name,\r\n          email: email,\r\n          contact: contact,\r\n        },\r\n        notes: {\r\n          address: \"BuyNaa Corporate Office\",\r\n        },\r\n        theme: { color: \"#3399cc\" },\r\n      };\r\n\r\n      const rzpay = new Razorpay(RazorpayOptions);\r\n\r\n      rzpay.on(\"payment.failure\", function (resp) {\r\n        alert(\"Remains on same page\");\r\n      });\r\n      rzpay.open();\r\n    },\r\n    [Razorpay]\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Flone | Cart</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Cart page of flone react minimalist eCommerce template.\"\r\n        />\r\n      </MetaTags>\r\n\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Cart\r\n      </BreadcrumbsItem>\r\n\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"cart-main-area pt-90 pb-100\">\r\n          <div className=\"container\">\r\n            {carts && carts.length >= 1 ? (\r\n              <Fragment>\r\n                <h3 className=\"cart-page-title\">Your cart items</h3>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"table-content table-responsive cart-table-content\">\r\n                      <table>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Image</th>\r\n                            <th>Product Name</th>\r\n                            <th>Unit Price</th>\r\n                            <th>Qty</th>\r\n                            <th>GST</th>\r\n                            <th>Coupon</th>\r\n                            <th>Subtotal(Incl Tax)</th>\r\n                            <th>action</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {carts?.map((cartItem, key) => {\r\n                            cartTotalPrice += parseInt(cartItem.gsttotal);\r\n                            const discountedPrice = getDiscountPrice(\r\n                              cartItem.price,\r\n                              cartItem.discount\r\n                            );\r\n                            const finalProductPrice = (\r\n                              cartItem.price * currency.currencyRate\r\n                            ).toFixed(2);\r\n                            const finalDiscountedPrice = (\r\n                              discountedPrice * currency.currencyRate\r\n                            ).toFixed(2);\r\n\r\n                            discountedPrice != null\r\n                              ? (gstTotalPrice +=\r\n                                  cartItem.product?.gstrate?.value *\r\n                                  cartItem.product_qty)\r\n                              : (gstTotalPrice +=\r\n                                  cartItem.product?.gstrate?.value *\r\n                                  cartItem.product_qty);\r\n\r\n                            {\r\n                              /* discountedPrice != null\r\n                              ? (cartTotalPrice = cartItem.gsttotal)\r\n                              : (cartTotalPrice = cartItem.gsttotal); */\r\n                            }\r\n                            return (\r\n                              <tr key={key}>\r\n                                <td className=\"product-thumbnail\">\r\n                                  <Link\r\n                                    to={\r\n                                      process.env.PUBLIC_URL +\r\n                                      \"/product-sticky/\" +\r\n                                      cartItem.product?._id\r\n                                    }\r\n                                  >\r\n                                    <img\r\n                                      className=\"img-fluid\"\r\n                                      src={\r\n                                        process.env.PUBLIC_URL +\r\n                                        cartItem.product?.product_img[0]\r\n                                      }\r\n                                      alt=\"\"\r\n                                    />\r\n                                  </Link>\r\n                                </td>\r\n\r\n                                <td className=\"product-name\">\r\n                                  <Link\r\n                                    to={\r\n                                      process.env.PUBLIC_URL +\r\n                                      \"/product-sticky/\" +\r\n                                      cartItem.product?._id\r\n                                    }\r\n                                  >\r\n                                    {cartItem.product?.product_name}\r\n                                  </Link>\r\n                                  {cartItem.size || cartItem.color ? (\r\n                                    <div className=\"cart-item-variation\">\r\n                                      <span>Color: {cartItem?.color}</span>\r\n                                      <span>Size: {cartItem?.size}</span>\r\n                                    </div>\r\n                                  ) : (\r\n                                    \"\"\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td className=\"product-price-cart\">\r\n                                  <span className=\"amount\">\r\n                                    {cartItem?.product_price}\r\n                                  </span>\r\n                                </td>\r\n\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <span>{cartItem.product_qty}</span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <span>\r\n                                      {cartItem.product?.gstrate?.value}\r\n                                    </span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <Form>\r\n                                      <span>\r\n                                        <Input\r\n                                          type=\"text\"\r\n                                          placeholder=\"Enter Code\"\r\n                                        />\r\n                                        <Button color=\"primary\" className=\"\">\r\n                                          Apply\r\n                                        </Button>\r\n                                      </span>\r\n                                    </Form>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"product-subtotal\">\r\n                                  ₹{cartItem?.gsttotal}\r\n                                </td>\r\n\r\n                                <td className=\"product-remove\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      removeItemfromcart(cartItem.product?._id)(\r\n                                        window.location.reload()\r\n                                      )\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fa fa-times\"></i>\r\n                                  </button>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"cart-shiping-update-wrapper\">\r\n                      <div className=\"cart-shiping-update\">\r\n                        <Link\r\n                          to={process.env.PUBLIC_URL + \"/shop-grid-two-column\"}\r\n                        >\r\n                          Continue Shopping\r\n                        </Link>\r\n                      </div>\r\n                      <div className=\"cart-clear\">\r\n                        <button\r\n                          onClick={() =>\r\n                            deleteAllCartItems()(window.location.reload())\r\n                          }\r\n                        >\r\n                          Clear Shopping Cart\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-8 col-md-6\">\r\n                    <div className=\"cart-tax\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gray\">\r\n                          Shipping Address\r\n                        </h4>\r\n                      </div>\r\n                      <div className=\"tax-wrapper\">\r\n                        {/* <h5>\r\n                          {useraddress?.customer?.firstname} {useraddress?.customer?.lastname},{useraddress?.address},{useraddress?.locality},{useraddress?.state},{useraddress?.pincode},\r\n                        </h5> */}\r\n                        <div className=\"tax-select-wrapper\">\r\n                          <h4>\r\n                            <span style={{ textTransform: \"capitalize mb-2\" }}>\r\n                              {useraddress?.customer?.firstname}{\" \"}\r\n                              {useraddress?.customer?.lastname},\r\n                            </span>\r\n                            <br />\r\n                            {useraddress?.address},{useraddress?.locality},\r\n                            {useraddress?.state},{useraddress?.pincode}\r\n                          </h4>\r\n                          <button\r\n                            className=\"cart-btn-2\"\r\n                            type=\"button\"\r\n                            onClick={() => history.push(\"/my-account\")}\r\n                          >\r\n                            Change\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-lg-4 col-md-12\">\r\n                    <div className=\"grand-totall\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gary-cart\">\r\n                          Cart Total\r\n                        </h4>\r\n                      </div>\r\n                      <div>\r\n                        <h5>\r\n                          Total products <span>₹{total}</span>\r\n                        </h5>\r\n                        <h4 className=\"grand-totall-title\">\r\n                          Total GST<span>₹{gstTotalPrice}</span>\r\n                        </h4>\r\n                        <h4 className=\"grand-totall-title\">\r\n                          Grand Total <span>₹{cartTotalPrice}</span>\r\n                        </h4>\r\n                      </div>\r\n                      <Link\r\n                        onClick={() =>\r\n                          handlePayment(\r\n                            cartTotalPrice * 100,\r\n                            \"checkout\",\r\n                            user.firstname + \" \" + user.lastname,\r\n                            user.email,\r\n                            user.mobile,\r\n                            \"ONLINE\"\r\n                          )\r\n                        }\r\n                      >\r\n                        Proceed to Checkout\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Fragment>\r\n            ) : (\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <div className=\"item-empty-area text-center\">\r\n                    <div className=\"item-empty-area__icon mb-30\">\r\n                      <i className=\"pe-7s-cart\"></i>\r\n                    </div>\r\n                    <div className=\"item-empty-area__text\">\r\n                      No items found in cart <br />{\" \"}\r\n                      <Link to={\"/shop-grid-two-column\"}>Shop Now</Link>\r\n                      {/* <div> <a style=\" width: 200px; background-color: #1065b7; text-align: center; font-weight: 800; padding: 11px 0px; color: white; font-size: 12px; display: inline-block; text-decoration: none; \" href='https://pmny.in/AIRaJwzJjaAJ' > Pay Now </a> </div> */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nCart.propTypes = {\r\n  addToCart: PropTypes.func,\r\n  cartItems: PropTypes.array,\r\n  currency: PropTypes.object,\r\n  decreaseQuantity: PropTypes.func,\r\n  location: PropTypes.object,\r\n  deleteAllFromCart: PropTypes.func,\r\n  deleteFromCart: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cartItems: state.cartData,\r\n    currency: state.currencyData,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addToCart: (item, addToast, quantityCount) => {\r\n      dispatch(addToCart(item, addToast, quantityCount));\r\n    },\r\n    decreaseQuantity: (item, addToast) => {\r\n      dispatch(decreaseQuantity(item, addToast));\r\n    },\r\n    deleteFromCart: (item, addToast) => {\r\n      dispatch(deleteFromCart(item, addToast));\r\n    },\r\n    deleteAllFromCart: (addToast) => {\r\n      dispatch(deleteAllFromCart(addToast));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n"],"sourceRoot":""}